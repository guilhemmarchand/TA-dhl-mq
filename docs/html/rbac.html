

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Role Based Access Control (RBAC) &mdash; TA-dhl-mq 1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="User guide" href="userguide.html" />
    <link rel="prev" title="High Availability" href="high_availability.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> TA-dhl-mq
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="compatibility.html">Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deployment and base configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">MQ managers Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="high_availability.html">High Availability</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Role Based Access Control (RBAC)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#builtin-roles">Builtin roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#providing-rbac-access-for-mq-submitters">Providing RBAC access for MQ submitters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#providing-rbac-access-for-mq-approvers">Providing RBAC access for MQ approvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rbac-in-the-user-interfaces">RBAC in the user interfaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#content-automated-filtering">Content automated filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="#validating-batches">Validating batches</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="userguide.html">User guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="troubleshoot.html">Troubleshoot</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="releasenotes.html">Release notes</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TA-dhl-mq</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Role Based Access Control (RBAC)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/rbac.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="role-based-access-control-rbac">
<h1>Role Based Access Control (RBAC)<a class="headerlink" href="#role-based-access-control-rbac" title="Permalink to this headline">¶</a></h1>
<div class="section" id="builtin-roles">
<h2>Builtin roles<a class="headerlink" href="#builtin-roles" title="Permalink to this headline">¶</a></h2>
<p><strong>The application embedds different roles as part of its configuration, which would used via inheritance to provide access and permissions to the application and its sub-components.</strong></p>
<p><strong>The emebedded roles are:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mqsubmission</span></code>: provides access to the application for a submitter or an approver</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mqsubmission_superadmin</span></code>: provides access to the application and grants permissions to manage batches of all applications, in addition it provides the permissions for the technical KVstore collections (for High-Availability purposes)</p></li>
</ul>
<p>In addition with the builtin roles, the application expects a specific role naming convention which is automatically used to identify which applications a submitter or a provider is member of and what kind permissions are allowed, this is described in the following document.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The role <code class="docutils literal notranslate"><span class="pre">mqsubmission_superadmin</span></code> role is a special role which provides access to all applications (submitting and managing batches), and is designed to be used for the bearer token context used by the Heavy Forwarders.</p>
</div>
</div>
<div class="section" id="providing-rbac-access-for-mq-submitters">
<h2>Providing RBAC access for MQ submitters<a class="headerlink" href="#providing-rbac-access-for-mq-submitters" title="Permalink to this headline">¶</a></h2>
<p><strong>A typical user who is supposed to be submitting messages to MQ, would need first to inherit from the mqsubmission role:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mqsubmission</span></code></p></li>
</ul>
<p><strong>This role provides:</strong></p>
<ul class="simple">
<li><p>Access to the application and its user interfaces</p></li>
<li><p>Access to the custom command allowing to interract with the application (such as the putmqrelay custom command to push messages to MQ)</p></li>
<li><p>Access with write permission to the functional KVstores</p></li>
</ul>
<p><strong>In addition, the user should be a member of one or more application MQ roles, which naming convention is the following:</strong></p>
<ul class="simple">
<li><p>mqsubmission_&lt;applicationName&gt;_submitter</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Users need to be direct members of the approver roles, inheritance is not taken into account by the application.</p>
</div>
<p>The user interfaces will extract automatically the list of the applications the user is member of using this pattern, which is then used to filter out the results based on all the application the submitter is a member of.</p>
<p>A submitter role allows posting to MQ, but does not allow the user to validate a pending batch that was submitted, this is addressed via approver roles as follows.</p>
</div>
<div class="section" id="providing-rbac-access-for-mq-approvers">
<h2>Providing RBAC access for MQ approvers<a class="headerlink" href="#providing-rbac-access-for-mq-approvers" title="Permalink to this headline">¶</a></h2>
<p><strong>When a user that is allowed to do so submits messages to be sent to MQ, this creates automatically one or more batches that are pending for approval.</strong></p>
<p>Only users which are members of the relevant application’s appover role can use the user interface to validate a pending batch.</p>
<p><strong>The naming convention for approver roles is the following:</strong></p>
<ul class="simple">
<li><p>mqsubmission_&lt;applicationName&gt;_approver</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Users need to be proper members of the approver roles, inheritance is not taken into account by the application.</p>
</div>
<p><strong>Typically, approvers would inherit the mqsubmission role which would provide them with the needed permissions on the application:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mqsubmission</span></code></p></li>
</ul>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>A user can be a member of both a submitter and approver role for a given application, which allows the user to both submit and validate batches</p>
</div>
</div>
<div class="section" id="rbac-in-the-user-interfaces">
<h2>RBAC in the user interfaces<a class="headerlink" href="#rbac-in-the-user-interfaces" title="Permalink to this headline">¶</a></h2>
<div class="section" id="content-automated-filtering">
<h3>Content automated filtering<a class="headerlink" href="#content-automated-filtering" title="Permalink to this headline">¶</a></h3>
<p><strong>Within the user interfaces, the role membership defines automated filters to scope what the users have access to, in addition with how the users can manage or not the batches lifecycle.</strong></p>
<p><strong>When opening the user interfaces, a message is shown to inform the users of the applications it is a member of:</strong></p>
<a class="reference internal image-reference" href="_images/rbac1.png"><img alt="rbac1.png" class="align-center" src="_images/rbac1.png" style="width: 1200px;" /></a>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Only the content from the applications the user connecting is a member of will be displayed, other applications related content will not be visible</p>
</div>
<p><strong>A user that has the access granted, but is not part of any application mqsubmission role, will get the following message displayed:</strong></p>
<a class="reference internal image-reference" href="_images/rbac2.png"><img alt="rbac2.png" class="align-center" src="_images/rbac2.png" style="width: 1200px;" /></a>
</div>
<div class="section" id="validating-batches">
<h3>Validating batches<a class="headerlink" href="#validating-batches" title="Permalink to this headline">¶</a></h3>
<p><strong>To be able to validate a pending batch, or perform administrative actions such as cancelling a batch, the user needs to:</strong></p>
<ul class="simple">
<li><p>Either be a member of the approver group for that application (mqsubmission_&lt;applicationName&gt;_approver)</p></li>
<li><p>Either be a member of the mqsubmission_superadmin role</p></li>
</ul>
<p><strong>A user that can get the content displayed (because he has been granted access) BUT is not part of an approval role would get the validation denied:</strong></p>
<a class="reference internal image-reference" href="_images/rbac3.png"><img alt="rbac3.png" class="align-center" src="_images/rbac3.png" style="width: 1200px;" /></a>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="userguide.html" class="btn btn-neutral float-right" title="User guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="high_availability.html" class="btn btn-neutral float-left" title="High Availability" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, DHL.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>